<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>冷氣維修／保養預約</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: "微軟正黑體", sans-serif;
      background-color: #f5f5f5;
      color: #333;
    }

    /* Banner：完整顯示，不被裁切 */
    .banner {
      width: 100%;
    }
    .banner img {
      width: 100%;
      height: auto;
      display: block;
    }

    /* 表單區塊 */
    .form-container {
      max-width: 600px;
      margin: 40px auto 80px;
      padding: 20px;
      background-color: #fff;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }
    .form-container h2 {
      margin-bottom: 20px;
      text-align: center;
      color: #0070f3;
    }
    .form-group {
      margin-bottom: 16px;
    }
    .form-group label {
      display: block;
      margin-bottom: 6px;
      font-weight: bold;
    }
    .form-group input[type="text"],
    .form-group input[type="email"],
    .form-group input[type="tel"],
    .form-group input[type="datetime-local"],
    .form-group textarea,
    .form-group select {
      width: 100%;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 4px;
      font-size: 14px;
      box-sizing: border-box;
    }
    .form-group textarea {
      resize: vertical;
      min-height: 80px;
    }
    .btn-submit {
      display: block;
      width: 100%;
      padding: 12px;
      background-color: #0070f3;
      color: #fff;
      font-size: 16px;
      font-weight: bold;
      text-align: center;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      margin-top: 10px;
    }
    .btn-submit:hover {
      background-color: #005bb5;
    }
    .note {
      font-size: 12px;
      color: #666;
      margin-top: 8px;
      text-align: right;
    }
    @media (max-width: 480px) {
      .form-container {
        margin: 20px 10px 40px;
        padding: 16px;
      }
    }
  </style>
</head>
<body>

  <!-- Banner 圖片（將 banner.jpg 放在同一資料夾） -->
  <div class="banner">
    <img src="banner.jpg" alt="清理冷氣的三個好處 Banner" />
  </div>

  <!-- 預約表單 -->
  <div class="form-container">
    <h2>冷氣維修／保養預約</h2>
    <form id="appointmentForm">
      <div class="form-group">
        <label for="customerName">姓名</label>
        <input type="text" id="customerName" name="customerName" placeholder="請輸入您的姓名" required />
      </div>
      <div class="form-group">
        <label for="customerPhone">電話</label>
        <input type="tel" id="customerPhone" name="customerPhone" placeholder="請輸入聯絡電話" required />
      </div>
      <div class="form-group">
        <label for="customerEmail">Email</label>
        <input type="email" id="customerEmail" name="customerEmail" placeholder="請輸入電子郵件" required />
      </div>
      <div class="form-group">
        <label for="customerAddress">地址</label>
        <textarea id="customerAddress" name="customerAddress" placeholder="請輸入完整地址（例如：桃園市XX路XX號）" required></textarea>
      </div>
      <div class="form-group">
        <label for="serviceDatetime">預約時間</label>
        <input type="datetime-local" id="serviceDatetime" name="serviceDatetime" required />
      </div>
      <div class="form-group">
        <label for="serviceType">服務種類</label>
        <select id="serviceType" name="serviceType" required>
          <option value="">-- 請選擇 --</option>
          <option value="冷氣清洗">冷氣清洗</option>
          <option value="冷氣維修">冷氣維修</option>
          <option value="冷氣保養">冷氣保養</option>
        </select>
      </div>
      <div class="form-group">
        <label for="customerNote">備註（選填）</label>
        <textarea id="customerNote" name="customerNote" placeholder="例如：故障狀況描述、其他需求..."></textarea>
      </div>

      <!-- 送出按鈕：使用 EmailJS 直接在前端寄信 -->
      <button type="submit" class="btn-submit">送出預約</button>
      <p class="note">＊提交後由網站自動寄信，不會跳出本機郵件程式。</p>
    </form>
  </div>

  <!-- 1. 引入 EmailJS SDK -->
  <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
  <script>
    // 2. 初始化 EmailJS：把下面的 YOUR_USER_ID 換成你在 EmailJS 後台看到的 user ID
    //    範例：emailjs.init("user_abC123XYZ456");
    emailjs.init("YOUR_USER_ID");

    document.getElementById("appointmentForm").addEventListener("submit", function(e) {
      e.preventDefault(); // 阻止預設的 form 提交

      // 3. 讀取表單欄位值
      const name      = document.getElementById("customerName").value.trim();
      const phone     = document.getElementById("customerPhone").value.trim();
      const email     = document.getElementById("customerEmail").value.trim();
      const address   = document.getElementById("customerAddress").value.trim();
      const datetime  = document.getElementById("serviceDatetime").value;
      const type      = document.getElementById("serviceType").value;
      const note      = document.getElementById("customerNote").value.trim();

      // 4. 組成 EmailJS 模板（template）所需的參數
      const templateParams = {
        customer_name: name,
        customer_phone: phone,
        customer_email: email,
        customer_address: address,
        service_datetime: datetime,
        service_type: type,
        customer_note: note
      };

      // 5. 使用 EmailJS 寄信，將下方 "YOUR_SERVICE_ID"、"YOUR_TEMPLATE_ID" 換成你自己在 EmailJS 後台看到的值
      emailjs.send("YOUR_SERVICE_ID", "YOUR_TEMPLATE_ID", templateParams)
        .then(function(response) {
          // 寄信成功
          alert("✅ 預約已成功送出，店家將儘快與您聯繫！");
          // 清空表單
          document.getElementById("appointmentForm").reset();
        }, function(error) {
          // 寄信失敗
          console.error("EmailJS 發信失敗：", error);
          alert("❌ 發生錯誤，無法送出預約，請稍後再試。");
        });
    });
  </script>
</body>
</html>
